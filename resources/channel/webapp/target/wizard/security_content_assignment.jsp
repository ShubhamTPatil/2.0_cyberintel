<%@ page contentType="text/html;charset=UTF-8" %><%@ include file="/includes/directives.jsp" %><%@ include file="/includes/startHeadSection.jsp" %><%@ page import="com.marimba.apps.subscriptionmanager.intf.IWebAppConstants" %><%@ page import="java.util.*" %><%@ page import = "com.marimba.intf.msf.IUserPrincipal" %><%@ page import = "com.marimba.apps.subscriptionmanager.TenantHelper" %><%@ page import = "com.marimba.apps.subscriptionmanager.SubscriptionMain" %><%    Object EmpirumContext = session.getAttribute(IWebAppConstants.EMPIRUM_APP_MAIN);    Object profilesMap = session.getAttribute("usgcbprofilespropsmap");    ServletContext context = config.getServletContext();    IUserPrincipal user = (IUserPrincipal) request.getUserPrincipal();    SubscriptionMain main = TenantHelper.getTenantSubMain(context, session, user.getTenantName());	boolean isPluginConfigured = main.isPluginConfigured();%><webapps:helpContext context="spm" topic="usgcb" /><script type="text/javascript" src="/spm/js/application.js"></script><link href="/spm/css/newdashboard/smart_wizard_all.min.css" rel="stylesheet" type="text/css" /><script src="/spm/js/newdashboard/jquery.smartWizard.min.js" type="text/javascript"></script><style>    .loader {        position: fixed;        left: 0px;        top: 0px;        width: 100%;        height: 100%;        z-index: 9999;        background: url('/spm/images/page-loader.gif') 50% 50% no-repeat rgb(249,249,249);    }        .table>thead>tr>th {        text-align: left;        vertical-align: middle;    }    .table>tbody>tr>td {        text-align: left;        vertical-align: middle;    }        .table select {    	width: 150px;    	font-size: small;    }        .table button {    	width: 85px;    }        .modal-dialog {    	max-width: 90%;    }        .center-span {		display: flex;	    justify-content: center;	    align-items: center;	    height: 100%;    }    </style><script type="text/javascript">$(function () { $('#assignments').addClass('nav-selected'); });</script></head><body><main id="main" class="main">        <div class="pagetitle">          <div class="d-flex bd-highlight justify-content-center">            <div class="p-2 flex-grow-1 bd-highlight">              <span class="pagename">Assignments<span style="font-size: small;">&nbsp;>&nbsp;Create or Edit Security Policy</span></span>              <span data-bs-toggle="tooltip" data-bs-placement="right" title="Create or Edit Security Policy"><i                  class="fa-solid fa-circle-info text-primary"></i></span>            </div>            <div class="refresh p-2 bd-highlight text-primary align-self-center" data-bs-toggle="tooltip" data-bs-placement="right"              title="Refresh" style="cursor: pointer;"><i class="fa-solid fa-arrows-rotate"></i></div>            <div class="p-2 bd-highlight text-primary align-self-center" data-bs-toggle="tooltip" data-bs-placement="right"              title="Download" style="cursor: pointer;">              <i class="fa-solid fa-download"></i>            </div>            <div class="p-2 bd-highlight text-primary align-self-center">            <a href="/shell/dashboard.do"><i class="fa-solid fa-chevron-left" style="margin-right: 5px;"></i>CMS Home</a>            </div>          </div>        </div>    	<section class="section dashboard"><html:form name="securityContentAssignmentForm" action="/securityContentAssignment.do" type="com.marimba.apps.subscriptionmanager.webapp.forms.SecurityContentAssignmentForm"><html:hidden property="action"/><html:hidden property="selectedWindowsProfiles" /><html:hidden property="selectedNonWindowsProfiles"/><html:hidden property="customizedProfiles"/><html:hidden property="priority"/><html:hidden property="remediateEnabled"/><div class="card"><div class="card-body"><div class="card-title"><logic:iterate id="target" name="session_dist" property="targets">                        <bean:define id="ID" name="target" property="id" toScope="request"/>        <bean:define id="Name" name="target" property="name" toScope="request"/>        <bean:define id="Type" name="target" property="type" toScope="request"/>        <jsp:include page="/includes/target_display_single.jsp"/></logic:iterate></div><%-- Errors Display --%><div style="width:100%; ">    <logic:present scope="request" name="error">        <div align="left" style="margin-left:20px; margin-right:20px;">          <div class="statusMessage" id="critical">            <h6><webapps:pageText key="error" type="global"/></h6>             <p>                 <img src="/shell/common-rsrc/images/error.gif" width="24" height="24" onLoad="init()">                 <font class="redText"><font class="generalText"> <bean:write name="error" scope="request"/> </font></font>             </p>          </div>       </div>    </logic:present></div><div id="securityContentAssignmentWizard">    <ul class="nav">        <li class="nav-item">          <a class="nav-link" href="#step-1" id="link_step1">            <span class="num">1</span>            <span class="center-span">Introduction</span>          </a>        </li>        <li class="nav-item">          <a class="nav-link" href="#step-2" id="link_step1">            <span class="num">2</span>            <span class="center-span">Select Windows Content</span>          </a>        </li>        <li class="nav-item">          <a class="nav-link" href="#step-3" id="link_step1">            <span class="num">3</span>            <span class="center-span">Select Non-Windows Content</span>          </a>        </li>        <li class="nav-item">          <a class="nav-link " href="#step-4" id="link_step1">            <span class="num">4</span>            <span class="center-span">Customize</span>          </a>        </li>        <li class="nav-item">          <a class="nav-link " href="#step-5" id="link_step1">            <span class="num">5</span>            <span class="center-span">Preview</span>          </a>        </li>    </ul>  	   		<div class="tab-content">	        <div id="step-1" name="stepsData" class="tab-pane" role="tabpanel" aria-labelledby="step-1">	            <%@ include file="/target/wizard/assignment_intro.jsp" %>	        </div>	        <div id="step-2" name="stepsData" class="tab-pane" role="tabpanel" aria-labelledby="step-2">	        	<%@ include file="/target/wizard/assignment_windows.jsp" %>	        </div>	        <div id="step-3" name="stepsData" class="tab-pane" role="tabpanel" aria-labelledby="step-3">	            <%@ include file="/target/wizard/assignment_nonwindows.jsp" %>	        </div>	        <div id="step-4" name="stepsData" class="tab-pane" role="tabpanel" aria-labelledby="step-4">	            <%@ include file="/target/wizard/assignment_customize.jsp" %>	        </div>	        <div id="step-5" name="stepsData" class="tab-pane" role="tabpanel" aria-labelledby="step-5">	            <%@ include file="/target/wizard/assignment_preview.jsp" %>	        </div>   		</div>     <!-- Include optional progressbar HTML -->    <div class="progress">      <div class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>    </div>    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">  <div class="modal-dialog" style="width:50%">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>      </div>      <div class="modal-body">        <span><webapps:pageText key="cancelconfirmation" type="global" shared="true" escape="js"/></span>      </div>      <div class="modal-footer">        <a href="/spm/returnToOrigin.do" class="btn btn-primary btn-sm">Yes</a>        <button type="button" class="btn btn-outline-primary btn-sm" data-bs-dismiss="modal">No</button>      </div>    </div>  </div></div><div class="modal fade" id="alertModal" tabindex="-1" aria-labelledby="alertModalLabel" aria-hidden="true">  <div class="modal-dialog" style="width:50%">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>      </div>      <div class="modal-body">        <span id="alertMessage"></span>      </div>      <div class="modal-footer">        <button type="button" class="btn btn-primary btn-sm" data-bs-dismiss="modal">OK</button>      </div>    </div>  </div></div>    <div class="modal fade" id="viewprofiledetailswindow" tabindex="-1" aria-labelledby="viewprofiledetailswindowModalLabel" aria-hidden="true">  <div class="modal-dialog modal-dialog-centered">    <div class="modal-content">          <div class="modal-header">        <h5 class="modal-title">SCAP Profile Details</h5>        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>      </div>            <div class="modal-body">              <div id="viewProfileInfoDiv" class="modal-body">            <iframe id="iframeViewProfileInfo" src="/spm/scap_profile_details_template.html" width="100%" height="550px" frameBorder="0"></iframe>        </div>              </div>            <div class="modal-footer"></div>    </div>  </div></div><div id="editprofiledetailswindow" class="modal fade">    <div class="modal-dialog modal-dialog-centered">        <div class="modal-content">            <div class="modal-header">				 <% if(!isPluginConfigured) { %>	                <div align="left" style="margin-left:20px; margin-right:20px;">			          <div class="statusMessage" id="critical">			            <h6><webapps:pageText key="error" type="global"/></h6>			             <p>			                 <img src="/shell/common-rsrc/images/error.gif" width="24" height="24" onLoad="init()">			                 <font class="redText"><font class="generalText"><webapps:pageText key="noplugin_errormsg" type="security_content_assignment" shared="true"/></font></font>			             </p>			          </div>	       			</div>                 <% } %>                    				<h5 class="modal-title text-left">SCAP Profile Details</h5>				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>            </div>            <div id="editProfileInfoDiv" class="modal-body">                <div class="row">                    <div class="col-md-8  text-left">                        <table class="table table-borderless" style="font-size: medium;">                            <tr>                                <td align="left" nowrap><webapps:pageText key="profile_name" type="security_content_assignment" shared="true"/></td>                                <td>                                    <input type="text" id="profile_name" class="form-control requiredField" onkeyup="nospaces(this)" style="width:100%" required>                                </td>                            </tr>                            <tr>                                <td align="left" nowrap><webapps:pageText key="profile_desc" type="security_content_assignment" shared="true"/></td>                                <td>                                    <input type="text" id="profile_desc" class="form-control requiredField" style="width:100%" required>                                </td>                            </tr>                        </table>                     </div>                    <div class="col-md-4" style="text-align: end;">					<% if(!isPluginConfigured) { %>						<button type='button' class='btn btn-sm btn-primary'><i class='fa fa-save'></i>&nbsp;Save</button>					<% } else { %>                        <button type='button' class='btn btn-sm btn-primary' onclick="saveProfile()"><i class='fa fa-save'></i>&nbsp;Save</button>					 <% } %>                    </div>                </div>                <iframe id="iframeEditProfileInfo" src="/spm/scap_profile_details_template.html" width="100%" height="550px" frameBorder="0"></iframe>            </div>        </div>        <div class="modal-footer">        </div>    </div></div>            </div>  <script type="text/javascript">     var rows_selected_windows = [];     var rows_selected_nonwindows = [];     var customized_profiles = [];     var customizedProfileStr = '';     var windowsContentsDataTable;     var nonWindowsContentsDataTable;     var customizeContentsDataTable;     var previewContentsDataTable;     var selectedContentId;     var selectedProfileId;     var selectedTargetType;     var modifiedRulesAndValues = '';     $(document).ready(function() {    	     	$("#alertModal").on("hidden.bs.modal", function () {   	        $('#alertMessage').text('');   	    });                $('#securityContentAssignmentWizard').smartWizard({       		theme: 'Basic',       		toolbar: {       			position: 'bottom',	            extraHtml: `<button id="finish" class="btn btn-success" style="display:none">Apply</button>	            			<button id="cancel" class="btn btn-outline-primary">Cancel</button>`	        }         });        $('#securityContentAssignmentForm').on('submit', function(e) {            e.preventDefault();        });                        $('#finish').click(function(){        	apply();        });             	// Initialize the showStep event        /* $("#securityContentAssignmentWizard").on("showStep", function(e, anchorObject, stepIndex, stepDirection, stepPosition) {           console.log("stepIndex: "+stepIndex+", stepDirection: "+stepDirection+", stepPosition: "+stepPosition);        }); */     	     	     	// Initialize the leaveStep event        $("#securityContentAssignmentWizard").on("leaveStep", function(e, anchorObject, currentStepIndex, nextStepIndex, stepDirection) {        	//console.log("currentStepIndex: "+currentStepIndex+", nextStepIndex: "+nextStepIndex);        	switch (currentStepIndex) {				case 0:										break;				case 1:										break;				case 2:										if(nextStepIndex == 3) {						var selectedWindowsRows = getSelectedWindowsData(windowsContentsDataTable);				                var selectedNonWindowsRows = getSelectedNonWindowsData(nonWindowsContentsDataTable);				                if (selectedWindowsRows == '' && selectedNonWindowsRows == '') {				                    showAlert("Profiles are not selected, please select atleast one profile to proceed");		                    return false;		                }		                		                loadCustomizeContentDataTable();					}										break;									case 3:										if(nextStepIndex == 4) {						customizedProfileStr = getCustomizedProfiles();		                loadPreviewContentDataTable();		                $('.sw-btn-next').hide();		                $('#finish').show();					}					break;									case 4:										if(nextStepIndex == 3) {						$('#finish').hide();						$('.sw-btn-next').show();					}										break;									default:					break;			}        });        /* $('#securityContentAssignmentWizard').wizard().on('change', function(e, data) {            alert('change, data.step - ' + data.step + ', data.direction - ' + data.direction);            if(data.step===3 && data.direction==='next') {                // return e.preventDefault();            }        });        $('#securityContentAssignmentWizard').wizard().on('changed', function(e, data) {            alert('changed');        });        $('#securityContentAssignmentWizard').wizard().on('finished', function(e, data) {            alert('finished');            $('#securityContentAssignmentForm').unbind('submit');            $('#securityContentAssignmentForm').submit();        }); *//*         $('.sw-btn-prev').on('click', function() {            var stepsData = document.getElementsByName('stepsData');            var r = 0;            for (; r < stepsData.length; r++) {                if ('block' == stepsData[r].style.display) {                    stepsData[r].style.display = 'none';                    stepsData[r-1].style.display = 'block';                    if ('step-5' == stepsData[r].id) {                        var nextBtn = document.getElementById("nextBtn");                        while (nextBtn.firstChild) {                            nextBtn.removeChild(nextBtn.firstChild);                        }                        nextBtn.innerHTML = 'Next&nbsp;<i class="fa fa-hand-o-right">&nbsp;</i>';                    }                    if ('step-1' == stepsData[r-1].id) {                        $('.sw-btn-prev').prop("disabled", true);                        } else {                        $('.sw-btn-prev').prop("disabled", false);                    }                    break;                }            }        });        $('.sw-btn-next').on('click', function() {            var stepsData = document.getElementsByName('stepsData');            var r = 0;            for (; r < stepsData.length; r++) {                if ('block' == stepsData[r].style.display) {                    if ('step-5' == stepsData[r].id) {                        apply();                    } else {                        var valid = "true", errorDesc = "";                        if ('step-2' == stepsData[r].id) {                            var selectedRows = getSelectedWindowsData(windowsContentsDataTable);                            //alert(document.securityContentAssignmentForm["selectedWindowsProfiles"].value);                        }                        if ('step-3' == stepsData[r].id) {                            var selectedWindowsRows = getSelectedWindowsData(windowsContentsDataTable);                            var selectedNonWindowsRows = getSelectedNonWindowsData(nonWindowsContentsDataTable);                            if (selectedWindowsRows == '' && selectedNonWindowsRows == '') {                                alert("Profiles are not selected, please select atleast one profile to proceed");                                //stepsData[r].style.display = 'none';                                //$('#link_step3').click();                                $('#securityContentAssignmentWizard').smartWizard("prev");                                return;                            }                            //alert(document.securityContentAssignmentForm["selectedWindowsProfiles"].value);                            loadCustomizeContentDataTable();                        }                        if ('step-4' == stepsData[r].id) {                            customizedProfileStr = getCustomizedProfiles();                            loadPreviewContentDataTable();                            if (valid == "true") {                                var nextBtn = document.getElementById("nextBtn");                                while (nextBtn.firstChild) {                                    nextBtn.removeChild(nextBtn.firstChild);                                }                                nextBtn.innerHTML = 'Apply&nbsp;<i class="fa fa-check">&nbsp;</i>';                            }                        }                        if (valid == "true") {                            stepsData[r].style.display = 'none';                            stepsData[r+1].style.display = 'block';                        } else {                            $('#securityContentAssignmentWizard').wizard('previous');                        }                    }                    break;                }            }        }); */         $('#cancel').on('click', function() {            // conditionalRedirect('<webapps:pageText key="cancelconfirmation" type="global" shared="true" escape="js"/>', '/returnToOrigin.do');            $('#confirmationModal').modal('show');                         //cancel();         });    });     function loadSection(step) {         var stepsData = document.getElementsByName('stepsData');         var r = 0;         for (; r < stepsData.length; r++) {             if (step == stepsData[r].id) {                 stepsData[r].style.display = 'block';             } else {                 stepsData[r].style.display = 'none';             }         }     }     function persistCheckbox(tableId) {         $(tableId + ' tbody input[type="checkbox"]:checked').each(function() {             var $row = $(this).closest('tr');             if (this.checked) $row.addClass('selected');             else $row.removeClass('selected');         });     }     function populateWindowsContentsDataTable(tableSelector) {         if (windowsContentsDataTable) windowsContentsDataTable.fnDestroy();         windowsContentsDataTable = $(tableSelector).DataTable( {                "bPaginate": false,                "columnDefs": [ { "targets": 0, "orderable": false } ],                "order": [[ 1, 'asc' ]]        } );         $(tableSelector + ' tbody').on('click', 'input[type="checkbox"]', function(e) {             var $row = $(this).closest('tr');             var data = windowsContentsDataTable.row($row).data();             var rowId = data[0];             var index = $.inArray(rowId, rows_selected_windows);             if (this.checked && index === -1) {                 rows_selected_windows.push(rowId);             } else if (!this.checked && index !== -1){                 rows_selected_windows.splice(index, 1);             }             if (this.checked) $row.addClass('selected');             else $row.removeClass('selected');             e.stopPropagation();         });         $(tableSelector).on('click', 'thead th:first-child, tbody td:first-child', function(e){             $(this).parent().find('input[type="checkbox"]').trigger('click');         });         $('thead input[name="select_all"]', windowsContentsDataTable.table().container()).on('click', function(e){             if (this.checked){                 $(tableSelector + ' tbody input[type="checkbox"]:not(:checked)').trigger('click');             } else {                 $(tableSelector + ' tbody input[type="checkbox"]:checked').trigger('click');             }             e.stopPropagation();         });     }     function populateNonWindowsContentsDataTable(tableSelector) {         if (nonWindowsContentsDataTable) nonWindowsContentsDataTable.fnDestroy();         nonWindowsContentsDataTable = $(tableSelector).DataTable( {             "bPaginate": false,             "columnDefs": [ { "targets": 0, "orderable": false } ],             "order": [[ 1, 'asc' ]]        } );         $(tableSelector + ' tbody').on('click', 'input[type="checkbox"]', function(e) {             var $row = $(this).closest('tr');             var data = nonWindowsContentsDataTable.row($row).data();             var rowId = data[0];             var index = $.inArray(rowId, rows_selected_nonwindows);             if (this.checked && index === -1) {                 rows_selected_nonwindows.push(rowId);             } else if (!this.checked && index !== -1){                 rows_selected_nonwindows.splice(index, 1);             }             if (this.checked) $row.addClass('selected');             else $row.removeClass('selected');             e.stopPropagation();         });         $(tableSelector).on('click', 'thead th:first-child, tbody td:first-child', function(e){             $(this).parent().find('input[type="checkbox"]').trigger('click');         });         $('thead input[name="select_all"]', nonWindowsContentsDataTable.table().container()).on('click', function(e){             if (this.checked){                 $(tableSelector + ' tbody input[type="checkbox"]:not(:checked)').trigger('click');             } else {                 $(tableSelector + ' tbody input[type="checkbox"]:checked').trigger('click');             }             e.stopPropagation();         });     }     function persistCheckbox(tableId) {         $(tableId + ' tbody input[type="checkbox"]:checked').each(function() {             var $row = $(this).closest('tr');             if (this.checked) $row.addClass('selected');             else $row.removeClass('selected');         });     }     /*     function getSelectedRowData(table) {         return $(table.rows('.selected').data()).map(function(item, value) {             return $(value[0]).attr(id').split('chk1_')[1] + '$-$' + value[1] + '$-$' + $('#' + $(value[3]).attr('id')).val() + '$-$' + $('#' + $(value[3]).attr('id') + ' option:selected').text() + '$-$' + value[2] ;         }).get().join(":_:");     }     */     function getSelectedWindowsData(table) {         return $(table.rows('.selected').data()).map(function(item, value) {             return $(value[0]).attr('id').split('wchk1_')[1] + '$-$' + value[1] + '$-$' + $('#' + $(value[4]).attr('id')).val() + '$-$' + $('#' + $(value[4]).attr('id') + ' option:selected').text() + '$-$' + value[2] + '$-$' + value[3];         }).get().join(":_:");     }     function getSelectedNonWindowsData(table) {         return $(table.rows('.selected').data()).map(function(item, value) {             return $(value[0]).attr('id').split('nwchk1_')[1] + '$-$' + value[1] + '$-$' + $('#' + $(value[4]).attr('id')).val() + '$-$' + $('#' + $(value[4]).attr('id') + ' option:selected').text() + '$-$' + value[2] + '$-$' + value[3];         }).get().join(":_:");     }    function showProfileDetails(content, profile, targetType) {        var templateName = '';        if (profile.lastIndexOf("@"+templateName) != -1) {            templateName = profile.substring(profile.lastIndexOf("@")+1);            profile = profile.substring(0,profile.lastIndexOf("@"));        }        //alert("Template Name : " + templateName);        var srcUrl = '/spm/securitymgmt?command=gethtml&target='+ targetType + '&content=' + content + '&profile=' + profile;        if (templateName != '') {            srcUrl = srcUrl + "&template="+ templateName + ".properties";        }        $("#iframeViewProfileInfo").contents().find("body").html('<div class="loader"></div>');        document.getElementById('iframeViewProfileInfo').src = srcUrl;        $('#viewprofiledetailswindow').modal('show');    }    function editProfileDetails(content, profileId, profileTitle, targetType) {        modifiedRulesAndValues = '';        var templateName = '';        var templateDesc = '';        if (profileId.lastIndexOf("@"+templateName) != -1) {            templateName = profileId.substring(profileId.lastIndexOf("@")+1);            profileId = profileId.substring(0,profileId.lastIndexOf("@"));            templateDesc = profileTitle;        }        if (templateName != '') {            $("#profile_name").val(templateName);        } else {            $("#profile_name").val('');        }        if (templateDesc != '') {            $("#profile_desc").val(templateDesc);        } else {            $("#profile_desc").val('');        }        selectedContentId = content;        selectedProfileId = profileId;        selectedTargetType = targetType;        //alert(content + " " + profile + " " + targetType )        var srcUrl = '/spm/securitymgmt?command=gethtml&target='+ targetType + '&content=' + content + '&profile=' + profileId + '&customize=true';        if (templateName != '') {            srcUrl = srcUrl + "&template="+ templateName + ".properties";        }        //alert(srcUrl);        $("#iframeEditProfileInfo").contents().find("body").html('<div class="loader"></div>');        document.getElementById('iframeEditProfileInfo').src = srcUrl;        $('#editprofiledetailswindow').modal('show');    }    function nospaces(t){        if(t.value.match(/\s/g)){            showAlert('<webapps:pageText key="nospace" type="global" shared="true"/>');            t.value=t.value.replace(/\s/g,'');        }    }    function saveProfile() {        var profileName = $("#profile_name").val();        if (profileName == '') {            showAlert("Please specify Profile Name");            return;        }        var profileDesc = $("#profile_desc").val();        if (profileDesc == '') {            showAlert("Please specify Profile Description");            return;        }        var profilePriority = $("#profile_priority").val();        var profileDetails = selectedContentId + ';'+ selectedProfileId + ";"+ selectedTargetType + ";" + profileName+ ";" + profileDesc + ";" + profilePriority + ";" + modifiedRulesAndValues;        customized_profiles.push(profileDetails);        $('#editprofiledetailswindow').modal('hide');    }    function getCustomizedProfiles() {        var profiles = '';        for (var i=0;i<customized_profiles.length; i++) {            profiles = profiles + customized_profiles[i];            if (i+1 < customized_profiles.length) {                profiles = profiles + ":_:";            }        }        return profiles;    }    function getPriorityValue() {        var priority = $("#customize_priority").val();        if (priority == null || priority == '') {            priority = '99999';        }        return priority;    }    function isRemediationEnabled() {        var isRemediateChkBoxEnabled = $("#customize_remediateEnabled").prop('checked');        var remediateEnabled = "false";        if (isRemediateChkBoxEnabled == true) {            remediateEnabled = "true";        }        return remediateEnabled;    }    function apply() {        var selectedWindowsRows = getSelectedWindowsData(windowsContentsDataTable);        document.securityContentAssignmentForm["selectedWindowsProfiles"].value = selectedWindowsRows;        var selectedNonWindowsRows = getSelectedNonWindowsData(nonWindowsContentsDataTable);        document.securityContentAssignmentForm["selectedNonWindowsProfiles"].value = selectedNonWindowsRows;        var customizedProfiles = getCustomizedProfiles();        document.securityContentAssignmentForm["customizedProfiles"].value = customizedProfiles;        document.securityContentAssignmentForm["priority"].value=getPriorityValue();        document.securityContentAssignmentForm["remediateEnabled"].value=isRemediationEnabled();        document.securityContentAssignmentForm["action"].value="save";        document.securityContentAssignmentForm.submit();    }     function cancel() {         document.securityContentAssignmentForm["action"].value="cancel";         document.securityContentAssignmentForm.submit();     }          function showAlert(msg) {    	     	 $('#alertMessage').text(msg);    	 $('#alertModal').modal('show');    	      }</script></div></div></html:form></section></main></body></html>